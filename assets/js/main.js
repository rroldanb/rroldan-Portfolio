// Translation System
const translations = {
    en: {
        "page.title": "Ruben Roldan - Data Engineer & Full Stack Developer",
        "nav.logo": "Portfolio",
        "nav.about": "About",
        "nav.skills": "Skills", 
        "nav.projects": "Projects",
        "nav.studies": "Studies",
        "nav.contact": "Contact",
        "hero.name": "Ruben",
        "hero.surname": "Roldan",
        "hero.title": "Data Engineer, Web Developer & Technical Support Specialist",
        "hero.subtitle": "Code, data management, and problem-solving at scale",
        "hero.cta": "Get In Touch",
        "about.title": "About Me",
        "about.text1": "Technical Support Specialist & Emerging Developer with 20+ years supporting enterprise software solutions across 20+ countries in banking, telecommunications, and government sectors.",
        "about.text2": "Experienced in JavaScript, React, Node.js, Python, MS-IIS, SQL, HTML/CSS with hands-on application support expertise. Skilled in database troubleshooting, system integration, and technical problem-solving.",
        "about.text3": "Passionate about leveraging technology to solve complex problems and enhance user experiences.",
        "skills.title": "Technical Skills",
        "skills.support.title": "Technical Support",
        "skills.support.desc": "Enterprise application support and troubleshooting across multiple platforms",
        "skills.support.item1": "Enterprise application support",
        "skills.support.item2": "System troubleshooting",
        "skills.support.item3": "Incident Management",
        "skills.support.item4": "User Training",
        "skills.web.title": "Web Development",
        "skills.web.desc": "Modern web technologies and frameworks for responsive applications",
        "skills.database.title": "Database Management", 
        "skills.database.desc": "SQL database management and system integration expertise",
        "skills.database.item4": "Pandas",
        "skills.programming.title": "Programming",
        "skills.programming.desc": "Multiple programming languages and development methodologies",
        "skills.programming.item2": "SQL Stored Procedures",
        "skills.programming.item4": "API Integration",
        "projects.title": "Projects & Experience",



  "projects.enterprise.title": "Enterprise Software Support (Level 2)",
  "projects.enterprise.desc": "Provided Level-2 support for multiple enterprise solutions across banking, HR, communications, and IT automation, ensuring reliability, scalability, and customer satisfaction.",

  "projects.enterprise.coretrac.title": "Coretrac",
  "projects.enterprise.coretrac.desc": "Specialized CRM solution integrated with core systems of banks and credit unions. National coverage in the United States.",

  "projects.enterprise.responsetek.title": "Responsetek",
  "projects.enterprise.responsetek.desc": "Survey system measuring sales performance and customer service. Implemented in 20+ countries for banks, telecoms, and government institutions.",

  "projects.enterprise.nuview.title": "Nuview",
  "projects.enterprise.nuview.desc": "Human resources management system with national coverage in the USA and Canada.",

  "projects.enterprise.supportsoft.title": "SupportSoft",
  "projects.enterprise.supportsoft.desc": "Endpoint automation solution from Ignite. Empowered IT teams and MSPs to resolve issues more effectively.",

  "projects.enterprise.others.title": "Others",
  "projects.enterprise.others.desc": "Additional platforms supported: Sococo, Broadvision, Computron, CityNumbers, CIS, SchooLoop.",



        "projects.banking.title": "Banking Solutions Support",
        "projects.banking.desc": "Provided technical support for Coretrac banking agent sales management system across multiple countries, ensuring 100% uptime and customer satisfaction.",
        "projects.banking.badge": "Enterprise",
        "projects.web.title": "Web Development Projects",
        "projects.web.desc": "Developed responsive web applications using modern technologies including React, Node.js, and various CSS frameworks for diverse client requirements.",
        "projects.web.badge": "Development",
        "projects.infrastructure.title": "Infrastructure Management",
        "projects.infrastructure.desc": "Managed IT infrastructure for 800+ employees across 5 offices, including server maintenance, network setup, and system upgrades.",
        "projects.infrastructure.badge": "Infrastructure",

        "studies.title": "Studies & Certifications",

        "studies.python-dev.title": "Python Developer Track",
        "studies.python-dev.desc": "Issued in 2025 by DataCamp.",
        "studies.python-dev.badge": "Certification",

        "studies.data-eng.title": "Data Engineer in Python Track",
        "studies.data-eng.desc": "Issued in 2025 by DataCamp.",
        "studies.data-eng.badge": "Certification",

        "studies.snowflake.title": "Associate Data Engineer in Snowflake",
        "studies.snowflake.desc": "Issued in 2025 by DataCamp.",
        "studies.snowflake.badge": "Certification",

        "studies.fullstack.title": "Full Stack Developer Career",
        "studies.fullstack.desc": "Issued in 2024 by CoderHouse. Top 10 Student Distinction.",
        "studies.fullstack.badge": "Career Program",

        "studies.wordpress.title": "WordPress Developer",
        "studies.wordpress.desc": "Issued in 2024 by CoderHouse. Top 10 Student Distinction.",
        "studies.wordpress.badge": "Specialization",

        "studies.cloud-aws.title": "Cloud Computing (AWS)",
        "studies.cloud-aws.desc": "Issued in February 2025 by CoderHouse.",
        "studies.cloud-aws.badge": "Specialization",

        "studies.sa.title": "Systems Analyst",
        "studies.sa.desc": "Issued in 1997 by ITESA, Santiago de Chile.",
        "studies.sa.badge": "Tech Title",

        "contact.title": "Get In Touch",
        "contact.subtitle": "Ready to collaborate on your next project or discuss opportunities",
        "contact.email.title": "Email",
        "contact.location.title": "Location",
        "contact.location.value": "Viña del Mar, Chile",
        "contact.availability.title": "Availability",
        "contact.availability.value": "Available for freelance projects",
        "footer.text": "© 2025 Portfolio. All rights reserved."
    },
    es: {
        "page.title": "Rubén Roldán - Ingeniero de Datos y Desarrollador Full Stack",
        "nav.logo": "Portafolio",
        "nav.about": "Acerca de",
        "nav.skills": "Habilidades",
        "nav.projects": "Proyectos", 
        "nav.studies": "Estudios", 
        "nav.contact": "Contacto",
        "hero.name": "Rubén",
        "hero.surname": "Roldán",
        "hero.title": "Ingeniero de Datos, Desarrollador Web y Especialista en Soporte Técnico",
        "hero.subtitle": "Código, gestión de datos y resolución de problemas a escala",
        "hero.cta": "Contáctame",
        "about.title": "Acerca de Mí",
        "about.text1": "Especialista en Soporte Técnico y Desarrollador Emergente con 20+ años apoyando soluciones de software empresarial en 20+ países en sectores bancarios, telecomunicaciones y gubernamentales.",
        "about.text2": "Experimentado en JavaScript, React, Node.js, Python, MS-IIS, SQL, HTML/CSS con experiencia práctica en soporte de aplicaciones. Especializado en resolución de problemas de bases de datos, integración de sistemas y resolución técnica.",
        "about.text3": "Apasionado por aprovechar la tecnología para resolver problemas complejos y mejorar las experiencias de usuario.",
        "skills.title": "Habilidades Técnicas",
        "skills.support.title": "Soporte Técnico",
        "skills.support.desc": "Soporte y resolución de problemas de aplicaciones empresariales en múltiples plataformas",
        "skills.support.item1": "Soporte de aplicaciones empresariales",
        "skills.support.item2": "Resolución de problemas del sistema",
        "skills.support.item3": "Gestión de Incidentes",
        "skills.support.item4": "Capacitación de Usuarios",
        "skills.web.title": "Desarrollo Web",
        "skills.web.desc": "Tecnologías web modernas y frameworks para aplicaciones responsivas",
        "skills.database.title": "Gestión de Bases de Datos",
        "skills.database.desc": "Experiencia en gestión de bases de datos SQL e integración de sistemas",
        "skills.database.item4": "Pandas",
        "skills.programming.title": "Programación",
        "skills.programming.desc": "Múltiples lenguajes de programación y metodologías de desarrollo",
        "skills.programming.item2": "Procedimientos Almacenados SQL",
        "skills.programming.item4": "Integración de API",
        "projects.title": "Proyectos y Experiencia",



  "projects.enterprise.title": "Soporte de Software Empresarial (Nivel 2)",
  "projects.enterprise.desc": "Proporcioné soporte de nivel 2 para múltiples soluciones empresariales en banca, RRHH, comunicaciones y automatización de TI, asegurando confiabilidad, escalabilidad y satisfacción del cliente.",

  "projects.enterprise.coretrac.title": "Coretrac",
  "projects.enterprise.coretrac.desc": "Solución CRM especializada que se integra con los sistemas principales de bancos y cooperativas de crédito. Cobertura nacional en Estados Unidos.",

  "projects.enterprise.responsetek.title": "Responsetek",
  "projects.enterprise.responsetek.desc": "Sistema de encuestas para medir desempeño de ventas y servicio al cliente. Implementado en más de 20 países para bancos, telecomunicaciones y organismos gubernamentales.",

  "projects.enterprise.nuview.title": "Nuview",
  "projects.enterprise.nuview.desc": "Sistema de gestión de recursos humanos con cobertura nacional en Estados Unidos y Canadá.",

  "projects.enterprise.supportsoft.title": "SupportSoft",
  "projects.enterprise.supportsoft.desc": "Solución de automatización de endpoints de Ignite. Potenció a equipos de TI y MSPs para resolver problemas de manera más eficaz.",

  "projects.enterprise.others.title": "Otros",
  "projects.enterprise.others.desc": "Plataformas adicionales soportadas: Sococo, Broadvision, Computron, CityNumbers, CIS, SchooLoop.",




        "projects.banking.title": "Soporte Soluciones Bancarias",
        "projects.banking.desc": "Proporcioné soporte técnico para el sistema de gestión de ventas de agentes bancarios Coretrac en múltiples países, asegurando 100% de tiempo de actividad y satisfacción del cliente.",
        "projects.banking.badge": "Empresarial",
        "projects.web.title": "Proyectos de Desarrollo Web",
        "projects.web.desc": "Desarrollé aplicaciones web responsivas usando tecnologías modernas incluyendo React, Node.js, y varios frameworks CSS para diversos requisitos de clientes.",
        "projects.web.badge": "Desarrollo",
        "projects.infrastructure.title": "Gestión de Infraestructura",
        "projects.infrastructure.desc": "Gestioné infraestructura IT para 800+ empleados en 5 oficinas, incluyendo mantenimiento de servidores, configuración de red y actualizaciones de sistema.",
        "projects.infrastructure.badge": "Infraestructura",


        "studies.title": "Estudios y Certificaciones",

        "studies.python-dev.title": "Python Developer Track",
        "studies.python-dev.desc": "Emitido en 2025 por DataCamp.",
        "studies.python-dev.badge": "Certificación",

        "studies.data-eng.title": "Data Engineer in Python Track",
        "studies.data-eng.desc": "Emitido en 2025 por DataCamp.",
        "studies.data-eng.badge": "Certificación",

        "studies.snowflake.title": "Associate Data Engineer en Snowflake",
        "studies.snowflake.desc": "Emitido en 2025 por DataCamp.",
        "studies.snowflake.badge": "Certificación",

        "studies.fullstack.title": "Carrera Full Stack Developer",
        "studies.fullstack.desc": "Emitido en 2024 por CoderHouse. Distinción Top 10 Estudiantes.",
        "studies.fullstack.badge": "Programa de Carrera",

        "studies.wordpress.title": "Desarrollador WordPress",
        "studies.wordpress.desc": "Emitido en 2024 por CoderHouse. Distinción Top 10 Estudiantes.",
        "studies.wordpress.badge": "Especialización",

        "studies.cloud-aws.title": "Cloud Computing (AWS)",
        "studies.cloud-aws.desc": "Emitido en febrero de 2025 por CoderHouse.",
        "studies.cloud-aws.badge": "Especialización",

        "studies.sa.title": "Analista de Sistemas",
        "studies.sa.desc": "Emitido en 1997 por ITESA, Santiago de Chile.",
        "studies.sa.badge": "Título Técnico",


        "contact.title": "Ponte en Contacto",
        "contact.subtitle": "Listo para colaborar en tu próximo proyecto o discutir oportunidades",
        "contact.email.title": "Email",
        "contact.location.title": "Ubicación",
        "contact.location.value": "Viña del Mar, Chile",
        "contact.availability.title": "Disponibilidad",
        "contact.availability.value": "Disponible para proyectos freelance",
        "footer.text": "© 2025 Portafolio. Todos los derechos reservados."
    }
};

// Alpine.js Portfolio Component
function portfolio() {
    return {
        currentTheme: localStorage.getItem('theme') || 'light',
        currentLang: localStorage.getItem('language') || 'en',
        mobileMenuOpen: false,
        showScrollTop: false,

        init() {
            // Set initial theme
            document.documentElement.setAttribute('data-theme', this.currentTheme);
            
            // Apply initial translations
            this.applyTranslations();
            
            // Scroll event listener
            window.addEventListener('scroll', () => {
                this.showScrollTop = window.scrollY > 300;
            });
            
            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', (e) => {
                    e.preventDefault();
                    const target = document.querySelector(anchor.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        this.mobileMenuOpen = false;
                    }
                });
            });

            // Add fade-in animation to sections
            this.observeElements();
        },

        toggleTheme() {
            this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', this.currentTheme);
            localStorage.setItem('theme', this.currentTheme);
        },

        toggleLanguage() {
            this.currentLang = this.currentLang === 'en' ? 'es' : 'en';
            localStorage.setItem('language', this.currentLang);
            this.applyTranslations();
            
            // Update page title
            document.title = translations[this.currentLang]['page.title'];
        },

        applyTranslations() {
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(element => {
                const key = element.getAttribute('data-i18n');
                const translation = translations[this.currentLang][key];
                if (translation) {
                    // Handle elements with child elements (like spans)
                    if (element.children.length > 0) {
                        const walker = document.createTreeWalker(
                            element,
                            NodeFilter.SHOW_TEXT,
                            null,
                            false
                        );
                        const textNodes = [];
                        let node;
                        while (node = walker.nextNode()) {
                            if (node.nodeValue.trim()) {
                                textNodes.push(node);
                            }
                        }
                        if (textNodes.length > 0) {
                            textNodes[0].nodeValue = translation;
                        }
                    } else {
                        element.textContent = translation;
                    }
                }
            });
        },

        scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        },

        observeElements() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            // Observe all sections and cards
            document.querySelectorAll('section, .card').forEach(el => {
                observer.observe(el);
            });
        }
        
    }



    
}

// Initialize theme before Alpine loads
(function() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
})();




